# Learn Swift - 클래스, 구조체의 메모리

> 객체
> 

---

소프트웨어 애플리케이션을 구축하는 블록으로 쉽게 사용하고 재사용할 수 있는 독립적인 기능의 모듈

swift에서의 클래스는 참조 타입. 여러 변수를 통해 인스턴스 되었다 하더라도, 하나의 변수를 통해 값을 수정하면 모든 클래스의 값들이 변경된다. 

> 클래스와 구조체의 메모리 할당 방식
> 

---

클래스 -> 참조 타입,  클래스 인스턴스를 변수에 할당하거나 함수에 전달할 때는 해당 인스턴스에 대한 참조가 생성.

구조체 -> 틀, 거푸집같이 생각할 수 있으며 해당 구조체의 프로퍼티, 메서드등을 변수에 할당하게되면 스택에 메모리가 할당되며, 여러개의 변수로 구조체를 인스턴스할 경우 스택에 다수의 구조체의 크기만큼 메모리가 할당되게 된다.

```swift
let test = _Class()
```

상수로 인스턴스된 클래스는 닷 연산자를 통해 멤버 변수에 접근하여 값을 변경할 수 있지만

상수로 인스턴스된 구조체는 내부의 값을 수정할 수 없는 형태로 메모리에 할당된다.

이유 - > 

클래스는 힙 영역에 할당. 하지만 변수는 스택에 할당. 이러한 이유때문에 해당 상수에 다른 값을 할당하거나 참조하게 하는 것은 불가능 하지만 힙 영역에 존재하는 클래스의 값을 수정하는 것은 가능하다.

하지만 같은 스택 영역에 할당된 구조체는 모두 스택 영역에 메모리 할당이 일어나기에 값을 변경하는  것이 불가능한 것. 

> 클래스 선언
> 

---

```jsx
class ClassName : parentClass {
	// ~~ 
}
```

프로퍼티, 생성자, 타입 메서드로 구분된다.

- 기본적인 클래스 선언과 인스턴스

```swift
class Monster{
	var hp : Int = 0
	var mp : Int = 0
	
	//	인스턴스 메서드 
	func attack(){
		~ 
	}
	
	// 자신의 타입 메서드. 
	class func getMaxHp() -> Int{
		return 100000
	}
	
}

//인스턴스 생성
var slime : Monster = Monster()
```

- 인스턴스 초기화, 소멸

```swift
class Monster{
	var hp : Int = 0
	var mp : Int = 0
	
	//swift 에서의 생성자, 인스턴스 시 한번만 호출 
	init(hp: Int, mp: Int){
		hp = hp
		mp = mp
	}
	
	//해당 인스턴스가 사라지기 전 정리 작업을 소멸자에서 구현해야한다.
	deinit{
		~~
	}
}
```

- 접근

인스턴스.프로퍼티

인스턴스.인스턴스매서드

! 타입 메서드의 선언은 해당 클래스가 참조된다. 

slime.Monster.getMaxHp()

인스턴스 메서드는 인스턴스마다 다를 수 있지만 타입 메서드는 해당 타입을 포괄적으로 관리할 수 있는 메서드.
